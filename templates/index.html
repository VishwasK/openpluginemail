<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenPlugin Email Plugin</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üìß OpenPlugin Email Plugin</h1>
            <p class="subtitle">Send emails via SMTP with ease</p>
        </header>

        <div class="status-bar" id="statusBar">
            <span class="status-indicator" id="statusIndicator"></span>
            <span id="statusText">Checking status...</span>
        </div>

        <main>
            <div class="card credentials-card">
                <h2>üîê API Credentials <span class="credentials-status" id="credentialsStatus"></span></h2>
                <p class="info-text">Your credentials are stored locally in your browser and never sent to our servers.</p>
                
                <div class="tabs">
                    <button class="tab-btn active" data-tab="smtp-tab">SMTP (Email)</button>
                    <button class="tab-btn" data-tab="openai-tab">OpenAI (Stories)</button>
                    <button class="tab-btn" data-tab="salesforce-tab">Salesforce</button>
                </div>
                
                <div id="smtp-tab" class="tab-content active" style="display: block;">
                
                <div class="mfa-info" id="mfaInfo">
                    <h3>üîí Multi-Factor Authentication (MFA)</h3>
                    <p>If your email account has MFA enabled, you <strong>must use an App Password</strong> instead of your regular password.</p>
                    <div class="provider-links">
                        <strong>Generate App Password:</strong>
                        <ul>
                            <li><a href="https://myaccount.google.com/apppasswords" target="_blank">Gmail App Password</a></li>
                            <li><a href="https://account.microsoft.com/security" target="_blank">Microsoft/Outlook App Password</a></li>
                            <li><a href="https://login.yahoo.com/account/security" target="_blank">Yahoo App Password</a></li>
                        </ul>
                    </div>
                </div>
                <form id="credentialsForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="smtpServer">SMTP Server *</label>
                            <input 
                                type="text" 
                                id="smtpServer" 
                                name="smtpServer" 
                                placeholder="smtp.gmail.com" 
                                required
                            >
                        </div>
                        <div class="form-group">
                            <label for="smtpPort">SMTP Port *</label>
                            <input 
                                type="number" 
                                id="smtpPort" 
                                name="smtpPort" 
                                placeholder="587" 
                                required
                            >
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="smtpUsername">Email/Username *</label>
                        <input 
                            type="email" 
                            id="smtpUsername" 
                            name="smtpUsername" 
                            placeholder="your-email@gmail.com" 
                            required
                        >
                    </div>
                    <div class="form-group">
                        <label for="smtpPassword">Password/App Password *</label>
                        <input 
                            type="password" 
                            id="smtpPassword" 
                            name="smtpPassword" 
                            placeholder="Your SMTP password or app password" 
                            required
                        >
                        <small class="help-text">
                            <strong>Important:</strong> If your account has Multi-Factor Authentication (MFA) enabled, 
                            you <strong>must use an App Password</strong> (not your regular password). 
                            Regular passwords will not work with MFA-enabled accounts.
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="fromEmail">From Email</label>
                        <input 
                            type="email" 
                            id="fromEmail" 
                            name="fromEmail" 
                            placeholder="your-email@gmail.com (optional)"
                        >
                        <small class="help-text">Leave empty to use your username as sender</small>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            Save SMTP Credentials
                        </button>
                        <button type="button" class="btn btn-secondary" id="clearCredentialsBtn" style="display: none;">
                            Clear Saved Credentials
                        </button>
                    </div>
                </form>
                </div>
                
                <div id="openai-tab" class="tab-content" style="display: none;">
                    <form id="openaiCredentialsForm">
                        <div class="form-group">
                            <label for="openaiApiKey">OpenAI API Key *</label>
                            <div style="position: relative;">
                                <input 
                                    type="password" 
                                    id="openaiApiKey" 
                                    name="openaiApiKey" 
                                    placeholder="sk-..." 
                                    required
                                    class="large-input"
                                    autocomplete="off"
                                    style="width: 100%; padding: 16px; font-size: 1rem; min-height: 60px; font-family: 'Courier New', monospace;"
                                >
                                <button 
                                    type="button" 
                                    class="toggle-password-btn" 
                                    id="toggleOpenAIKey"
                                    onclick="togglePasswordVisibility('openaiApiKey', this)"
                                    title="Show/Hide API Key"
                                >
                                    üëÅÔ∏è
                                </button>
                            </div>
                            <small class="help-text">
                                Get your API key from <a href="https://platform.openai.com/api-keys" target="_blank">OpenAI Platform</a>. 
                                Your key is stored locally in your browser and never sent to our servers.
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="openaiModel">Model (optional)</label>
                            <select id="openaiModel" name="openaiModel">
                                <option value="gpt-5-nano" selected>GPT-5 Nano</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                Save OpenAI Key
                            </button>
                            <button type="button" class="btn btn-secondary" id="clearOpenAIBtn" style="display: none;">
                                Clear Saved Key
                            </button>
                        </div>
                    </form>
                </div>
                
                <div id="salesforce-tab" class="tab-content" style="display: none;">
                    <div class="mfa-info" style="margin-bottom: 20px;">
                        <h3>üîí Security Information</h3>
                        <p><strong>How your credentials are protected:</strong></p>
                        <ul style="margin-left: 20px;">
                            <li><strong>HTTPS Encryption:</strong> All data is encrypted in transit using HTTPS/TLS. Your credentials cannot be intercepted during transmission.</li>
                            <li><strong>Local Storage:</strong> Credentials are stored only in your browser's localStorage. They are never stored on our servers.</li>
                            <li><strong>No Server Storage:</strong> Credentials are sent with each request but never saved on the server.</li>
                            <li><strong>Browser Security:</strong> localStorage is only accessible to JavaScript from the same domain (same-origin policy).</li>
                        </ul>
                        <p style="margin-top: 10px;"><strong>Note:</strong> If you're on a shared computer, clear your browser data when done. Consider using OAuth (Client ID/Secret) for better security.</p>
                    </div>
                    <form id="salesforceCredentialsForm">
                        <div class="form-group">
                            <label for="sfUsername">Salesforce Username *</label>
                            <input 
                                type="text" 
                                id="sfUsername" 
                                name="sfUsername" 
                                placeholder="your-username@example.com" 
                                required
                            >
                        </div>
                        <div class="form-group">
                            <label for="sfPassword">Salesforce Password *</label>
                            <input 
                                type="password" 
                                id="sfPassword" 
                                name="sfPassword" 
                                placeholder="Your Salesforce password" 
                                required
                            >
                        </div>
                        <div class="form-group">
                            <label for="sfSecurityToken">Security Token <span style="color: var(--text-secondary); font-weight: normal;">(Optional)</span></label>
                            <input 
                                type="password" 
                                id="sfSecurityToken" 
                                name="sfSecurityToken" 
                                placeholder="Security token (optional)"
                            >
                            <small class="help-text">
                                Optional. Get from: Setup ‚Üí My Personal Information ‚Üí Reset My Security Token. Some orgs require this even without IP restrictions.
                            </small>
                        </div>
                        <div class="form-group">
                            <label for="sfOrganizationId">Organization ID <span style="color: var(--text-secondary); font-weight: normal;">(Optional - for IP-whitelisted orgs)</span></label>
                            <input 
                                type="text" 
                                id="sfOrganizationId" 
                                name="sfOrganizationId" 
                                placeholder="00Dxxxxxxxxxxxxxxx"
                            >
                            <small class="help-text">
                                Optional. For orgs without IP restrictions, you may need your Organization ID. Find it in: Setup ‚Üí Company Information ‚Üí Organization ID (starts with 00D)
                            </small>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="sfClientId">Client ID (OAuth) <span style="color: var(--text-secondary); font-weight: normal;">*Required if SOAP API disabled</span></label>
                                <input 
                                    type="text" 
                                    id="sfClientId" 
                                    name="sfClientId" 
                                    placeholder="Connected App Client ID"
                                >
                            </div>
                            <div class="form-group">
                                <label for="sfClientSecret">Client Secret (OAuth) <span style="color: var(--text-secondary); font-weight: normal;">*Required if SOAP API disabled</span></label>
                                <input 
                                    type="password" 
                                    id="sfClientSecret" 
                                    name="sfClientSecret" 
                                    placeholder="Connected App Client Secret"
                                >
                            </div>
                        </div>
                        <div class="mfa-info" style="margin-top: 15px; margin-bottom: 15px;">
                            <h4>üîê OAuth Authentication (Required if SOAP API is disabled)</h4>
                            <p>If your org has SOAP API login disabled, you <strong>must</strong> use OAuth with a Connected App:</p>
                            <ol style="margin-left: 20px;">
                                <li>Create a Connected App in Salesforce: Setup ‚Üí App Manager ‚Üí New Connected App</li>
                                <li>Enable OAuth Settings</li>
                                <li><strong>Callback URL:</strong> Use one of these (doesn't need to be your app URL):
                                    <ul style="margin-top: 5px;">
                                        <li><code>https://login.salesforce.com/services/oauth2/success</code> (Production)</li>
                                        <li><code>https://test.salesforce.com/services/oauth2/success</code> (Sandbox)</li>
                                        <li>Or simply: <code>https://login.salesforce.com</code></li>
                                    </ul>
                                </li>
                                <li>Select OAuth Scopes (at minimum: "Access and manage your data (api)")</li>
                                <li>Enable "Enable OAuth Username-Password Flow" (if available in your org)</li>
                                <li>Copy the Consumer Key (Client ID) and Consumer Secret</li>
                                <li>Enter them in the fields above along with your username and password</li>
                            </ol>
                            <p style="margin-top: 10px; padding: 10px; background: #fff3cd; border-left: 4px solid #ffc107; border-radius: 4px;">
                                <strong>Note:</strong> The callback URL is not actually used for username-password flow - it's just required by Salesforce. Use the standard Salesforce callback URLs listed above.
                            </p>
                            <div style="margin-top: 10px; padding: 10px; background: #e7f3ff; border-left: 4px solid #2196F3; border-radius: 4px;">
                                <strong>‚ö†Ô∏è Important:</strong> If you get "authentication failure" or "invalid_grant" error:
                                <ul style="margin: 5px 0 0 20px;">
                                    <li>Verify your username and password are correct</li>
                                    <li>If you have MFA enabled, you may need to append your security token to the password</li>
                                    <li>Make sure "Enable OAuth Username-Password Flow" is checked in your Connected App settings</li>
                                    <li>Ensure your Connected App has the required OAuth scopes</li>
                                </ul>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="sfDomain">Domain</label>
                            <select id="sfDomain" name="sfDomain">
                                <option value="login" selected>Production (login)</option>
                                <option value="test">Sandbox (test)</option>
                                <option value="custom">Custom Domain</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                Save Salesforce Credentials
                            </button>
                            <button type="button" class="btn btn-secondary" id="testSalesforceBtn">
                                Test Connection
                            </button>
                            <button type="button" class="btn btn-secondary" id="clearSalesforceBtn" style="display: none;">
                                Clear Saved Credentials
                            </button>
                        </div>
                        <div id="salesforceConnectionStatus" style="margin-top: 15px; display: none;"></div>
                    </form>
                </div>
            </div>

            <div class="card">
                <h2>üìñ Write Story</h2>
                <form id="storyForm">
                    <div class="form-group">
                        <label for="storyPrompt">Story Prompt *</label>
                        <textarea 
                            id="storyPrompt" 
                            name="storyPrompt" 
                            rows="4" 
                            placeholder="Write a fantasy story about a young wizard discovering their powers..." 
                            required
                        ></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="storyGenre">Genre (optional)</label>
                            <input 
                                type="text" 
                                id="storyGenre" 
                                name="storyGenre" 
                                placeholder="fantasy, sci-fi, mystery, etc."
                            >
                        </div>
                        <div class="form-group">
                            <label for="storyLength">Length</label>
                            <select id="storyLength" name="storyLength">
                                <option value="short">Short (500-800 words)</option>
                                <option value="medium" selected>Medium (1000-1500 words)</option>
                                <option value="long">Long (2000+ words)</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="storyTone">Tone (optional)</label>
                        <input 
                            type="text" 
                            id="storyTone" 
                            name="storyTone" 
                            placeholder="funny, serious, dark, adventurous, etc."
                        >
                    </div>
                    <button type="submit" class="btn btn-primary" id="writeStoryBtn">
                        <span class="btn-text">Write Story</span>
                        <span class="btn-loader" style="display: none;">Writing...</span>
                    </button>
                </form>
                <div id="storyResult" class="story-result" style="display: none;"></div>
            </div>

            <div class="card">
                <h2>‚úèÔ∏è Continue Story</h2>
                <form id="continueStoryForm">
                    <div class="form-group">
                        <label for="continueStoryText">Existing Story *</label>
                        <textarea 
                            id="continueStoryText" 
                            name="continueStoryText" 
                            rows="6" 
                            placeholder="Paste your existing story here..." 
                            required
                        ></textarea>
                    </div>
                    <div class="form-group">
                        <label for="continueDirection">Direction (optional)</label>
                        <input 
                            type="text" 
                            id="continueDirection" 
                            name="continueDirection" 
                            placeholder="e.g., Add a plot twist, introduce a new character"
                        >
                    </div>
                    <div class="form-group">
                        <label for="continueLength">Continuation Length</label>
                        <select id="continueLength" name="continueLength">
                            <option value="short">Short</option>
                            <option value="medium" selected>Medium</option>
                            <option value="long">Long</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary" id="continueStoryBtn">
                        <span class="btn-text">Continue Story</span>
                        <span class="btn-loader" style="display: none;">Continuing...</span>
                    </button>
                </form>
                <div id="continueResult" class="story-result" style="display: none;"></div>
            </div>

            <div class="card">
                <h2>‚ú® Improve Story</h2>
                <form id="improveStoryForm">
                    <div class="form-group">
                        <label for="improveStoryText">Story to Improve *</label>
                        <textarea 
                            id="improveStoryText" 
                            name="improveStoryText" 
                            rows="6" 
                            placeholder="Paste your story here to improve it..." 
                            required
                        ></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="improveFocus">Focus (optional)</label>
                            <input 
                                type="text" 
                                id="improveFocus" 
                                name="improveFocus" 
                                placeholder="dialogue, descriptions, pacing, etc."
                            >
                        </div>
                        <div class="form-group">
                            <label for="improveStyle">Style (optional)</label>
                            <input 
                                type="text" 
                                id="improveStyle" 
                                name="improveStyle" 
                                placeholder="literary, casual, poetic, etc."
                            >
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" id="improveStoryBtn">
                        <span class="btn-text">Improve Story</span>
                        <span class="btn-loader" style="display: none;">Improving...</span>
                    </button>
                </form>
                <div id="improveResult" class="story-result" style="display: none;"></div>
            </div>

            <div class="card">
                <h2>üîç Web Search</h2>
                <div class="info-text" style="margin-bottom: 20px;">
                    <strong>‚ö†Ô∏è Note:</strong> Web search uses DuckDuckGo and may return zero results on Heroku due to rate limiting or IP blocking. 
                    This is a known limitation when running on cloud platforms. Search works better when running locally.
                </div>
                <form id="webSearchForm">
                    <div class="form-group">
                        <label for="searchQuery">Search Query *</label>
                        <input 
                            type="text" 
                            id="searchQuery" 
                            name="searchQuery" 
                            placeholder="Enter your search query..." 
                            required
                        >
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="searchResults">Number of Results</label>
                            <select id="searchResults" name="searchResults">
                                <option value="3">3</option>
                                <option value="5" selected>5</option>
                                <option value="10">10</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="searchRegion">Region</label>
                            <select id="searchRegion" name="searchRegion">
                                <option value="us-en" selected>US English</option>
                                <option value="uk-en">UK English</option>
                                <option value="es-es">Spanish</option>
                                <option value="fr-fr">French</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" id="webSearchBtn">
                        <span class="btn-text">Search Web</span>
                        <span class="btn-loader" style="display: none;">Searching...</span>
                    </button>
                </form>
                <div id="webSearchResult" class="story-result" style="display: none;"></div>
            </div>

            <div class="card">
                <h2>üìä Search & Summarize</h2>
                <div class="info-text" style="margin-bottom: 20px;">
                    <strong>‚ö†Ô∏è Note:</strong> Requires web search to work first. If search returns zero results, summarization will also fail.
                </div>
                <form id="searchSummarizeForm">
                    <div class="form-group">
                        <label for="summarizeQuery">Question or Query *</label>
                        <input 
                            type="text" 
                            id="summarizeQuery" 
                            name="summarizeQuery" 
                            placeholder="What are the latest features in Python 3.12?" 
                            required
                        >
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="summarizeResults">Number of Sources</label>
                            <select id="summarizeResults" name="summarizeResults">
                                <option value="3">3</option>
                                <option value="5" selected>5</option>
                                <option value="10">10</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="summarizeFocus">Focus (optional)</label>
                            <input 
                                type="text" 
                                id="summarizeFocus" 
                                name="summarizeFocus" 
                                placeholder="e.g., new features, improvements"
                            >
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" id="searchSummarizeBtn">
                        <span class="btn-text">Search & Summarize</span>
                        <span class="btn-loader" style="display: none;">Searching & Summarizing...</span>
                    </button>
                </form>
                <div id="searchSummarizeResult" class="story-result" style="display: none;"></div>
            </div>

            <div class="card">
                <h2>üîµ Query Salesforce</h2>
                <form id="salesforceQueryForm">
                    <div class="form-group">
                        <label for="soqlQuery">SOQL Query *</label>
                        <textarea 
                            id="soqlQuery" 
                            name="soqlQuery" 
                            rows="4" 
                            placeholder="SELECT Id, Name, Industry FROM Account LIMIT 10" 
                            required
                        ></textarea>
                        <small class="help-text">
                            Enter a valid SOQL query. Example: SELECT Id, Name FROM Account LIMIT 10
                        </small>
                    </div>
                    <button type="submit" class="btn btn-primary" id="salesforceQueryBtn">
                        <span class="btn-text">Execute Query</span>
                        <span class="btn-loader" style="display: none;">Querying...</span>
                    </button>
                </form>
                <div id="salesforceQueryResult" class="story-result" style="display: none;"></div>
            </div>

            <div class="card">
                <h2>‚ûï Create Salesforce Record</h2>
                <form id="salesforceCreateForm">
                    <div class="form-group">
                        <label for="createObjectType">Object Type *</label>
                        <input 
                            type="text" 
                            id="createObjectType" 
                            name="createObjectType" 
                            placeholder="Account, Contact, Opportunity, etc." 
                            required
                        >
                    </div>
                    <div class="form-group">
                        <label for="createFields">Fields (JSON) *</label>
                        <textarea 
                            id="createFields" 
                            name="createFields" 
                            rows="6" 
                            placeholder='{"Name": "Acme Corp", "Industry": "Technology"}' 
                            required
                        ></textarea>
                        <small class="help-text">
                            Enter field values as JSON. Example: {"Name": "Acme Corp", "Industry": "Technology"}
                        </small>
                    </div>
                    <button type="submit" class="btn btn-primary" id="salesforceCreateBtn">
                        <span class="btn-text">Create Record</span>
                        <span class="btn-loader" style="display: none;">Creating...</span>
                    </button>
                </form>
                <div id="salesforceCreateResult" class="story-result" style="display: none;"></div>
            </div>

            <div class="card">
                <h2>‚úèÔ∏è Update Salesforce Record</h2>
                <form id="salesforceUpdateForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="updateObjectType">Object Type *</label>
                            <input 
                                type="text" 
                                id="updateObjectType" 
                                name="updateObjectType" 
                                placeholder="Account" 
                                required
                            >
                        </div>
                        <div class="form-group">
                            <label for="updateRecordId">Record ID *</label>
                            <input 
                                type="text" 
                                id="updateRecordId" 
                                name="updateRecordId" 
                                placeholder="001xx000003DGbQ" 
                                required
                            >
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="updateFields">Fields to Update (JSON) *</label>
                        <textarea 
                            id="updateFields" 
                            name="updateFields" 
                            rows="4" 
                            placeholder='{"Industry": "Technology", "Phone": "555-1234"}' 
                            required
                        ></textarea>
                        <small class="help-text">
                            Enter field values as JSON. Example: {"Industry": "Technology"}
                        </small>
                    </div>
                    <button type="submit" class="btn btn-primary" id="salesforceUpdateBtn">
                        <span class="btn-text">Update Record</span>
                        <span class="btn-loader" style="display: none;">Updating...</span>
                    </button>
                </form>
                <div id="salesforceUpdateResult" class="story-result" style="display: none;"></div>
            </div>

            <div class="card">
                <h2>‚ö° Execute Agentforce Action</h2>
                <form id="salesforceActionForm">
                    <div class="form-group">
                        <label for="actionName">Action Name *</label>
                        <input 
                            type="text" 
                            id="actionName" 
                            name="actionName" 
                            placeholder="CreateAccount" 
                            required
                        >
                    </div>
                    <div class="form-group">
                        <label for="actionParams">Action Parameters (JSON - optional)</label>
                        <textarea 
                            id="actionParams" 
                            name="actionParams" 
                            rows="4" 
                            placeholder='{"name": "Acme Corp", "industry": "Technology"}'
                        ></textarea>
                    </div>
                    <div class="form-group">
                        <label for="actionRecordId">Record ID (optional)</label>
                        <input 
                            type="text" 
                            id="actionRecordId" 
                            name="actionRecordId" 
                            placeholder="001xx000003DGbQ"
                        >
                    </div>
                    <button type="submit" class="btn btn-primary" id="salesforceActionBtn">
                        <span class="btn-text">Execute Action</span>
                        <span class="btn-loader" style="display: none;">Executing...</span>
                    </button>
                </form>
                <div id="salesforceActionResult" class="story-result" style="display: none;"></div>
            </div>

            <div class="card">
                <h2>Send Email</h2>
                <form id="emailForm">
                    <div class="form-group">
                        <label for="toEmail">To Email *</label>
                        <input 
                            type="email" 
                            id="toEmail" 
                            name="toEmail" 
                            placeholder="recipient@example.com" 
                            required
                        >
                    </div>

                    <div class="form-group">
                        <label for="subject">Subject *</label>
                        <input 
                            type="text" 
                            id="subject" 
                            name="subject" 
                            placeholder="Email subject" 
                            required
                        >
                    </div>

                    <div class="form-group">
                        <label for="body">Message *</label>
                        <textarea 
                            id="body" 
                            name="body" 
                            rows="6" 
                            placeholder="Enter your message here..." 
                            required
                        ></textarea>
                    </div>

                    <div class="form-group checkbox-group">
                        <label>
                            <input type="checkbox" id="isHtml" name="isHtml">
                            Send as HTML
                        </label>
                    </div>

                    <button type="submit" class="btn btn-primary" id="sendBtn">
                        <span class="btn-text">Send Email</span>
                        <span class="btn-loader" style="display: none;">Sending...</span>
                    </button>
                </form>

                <div id="resultMessage" class="result-message" style="display: none;"></div>
            </div>

            <div class="card">
                <h2>Plugin Information</h2>
                <div id="pluginInfo" class="plugin-info">
                    <p>Loading plugin information...</p>
                </div>
            </div>

            <div class="card">
                <h2>API Endpoints</h2>
                <div class="endpoints-list">
                    <div class="endpoint">
                        <span class="method get">GET</span>
                        <code>/</code>
                        <span class="description">Health check</span>
                    </div>
                    <div class="endpoint">
                        <span class="method get">GET</span>
                        <code>/api/email/info</code>
                        <span class="description">Plugin information</span>
                    </div>
                    <div class="endpoint">
                        <span class="method post">POST</span>
                        <code>/api/email/send</code>
                        <span class="description">Send email</span>
                    </div>
                    <div class="endpoint">
                        <span class="method get">GET</span>
                        <code>/api/openplugin/manifest</code>
                        <span class="description">OpenPlugin manifest</span>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>OpenPlugin Email Plugin v1.0.0 | 
                <a href="https://github.com/VishwasK/openpluginemail" target="_blank">GitHub</a>
            </p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
